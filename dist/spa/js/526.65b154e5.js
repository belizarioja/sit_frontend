(globalThis["webpackChunksit_frontend"]=globalThis["webpackChunksit_frontend"]||[]).push([[526],{5770:t=>{t.exports={endpoint_path_v2:"https://bck-test.factura-smart.com/",version:"2.0.0"}},6569:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>zt});var o=s(3673),i=s(2323);const a={class:"my-font my-fondo row"},r={key:0,style:{position:"relative",height:"500px"}},l=(0,o._)("div",{style:{position:"absolute",top:"30%",left:"25%",right:"25%","font-size":"20px"}},"Por favor espere... Procesando!",-1),n={key:1,id:"detailid",class:"row",style:{"padding-top":"10px"}},c={class:"col"},d={class:"row"},m={class:"col-md-6 col-sm-6 col-xs-12"},u={class:"row"},g={class:"col-6 text-center"},p=["src"],h={class:"col-6"},f=(0,o._)("br",null,null,-1),j={style:{"font-size":"10px"}},b=(0,o._)("br",null,null,-1),w={style:{"font-size":"10px"}},y={class:"col-md-6 col-sm-6 col-xs-12 text-center"},_={style:{width:"100%"}},z={style:{display:"grid"}},v={style:{"font-size":"18px",color:"#e00303","font-weight":"bolder"}},k={key:0,style:{"font-size":"10px"}},x={style:{color:"#e00303","font-weight":"bolder"}},D={key:1,style:{"font-size":"10px"}},N={class:"row"},q={class:"col-md-7 col-sm-7 col-xs-12",style:{"margin-left":"20px"}},Y={class:"col-md-4 col-sm-4 col-xs-12",style:{"margin-left":"20px"}},C=(0,o._)("tr",null,[(0,o._)("td")],-1),F=(0,o._)("tr",null,[(0,o._)("td")],-1),M={class:"row"},Z={class:"row"},W={class:"col",style:{"margin-right":"20px"}},I=(0,o._)("td",{style:{width:"80%","text-align":"right"}}," Subtotal Bs.: ",-1),Q={style:{"text-align":"right"}},T={key:0},U=(0,o._)("td",{style:{"text-align":"right"}},"IVA 16% Bs.:",-1),E={style:{"text-align":"right"}},O={key:1},S=(0,o._)("td",{style:{"text-align":"right"}},"IVA 8% Bs.:",-1),B={style:{"text-align":"right"}},P={key:2},A=(0,o._)("td",{style:{"text-align":"right"}},"IGTF 3% Bs.:",-1),L={style:{"text-align":"right"}},R=(0,o._)("td",{style:{"text-align":"right"}},"Total Bs.:",-1),V={style:{"text-align":"right"}},G={key:2,class:"text-center"},H=(0,o._)("div",{class:"dash_welcome_blue"},"Oops!",-1),$=(0,o._)("img",{src:"estatusgrafica.png",alt:"Sin datos",style:{width:"250px"}},null,-1),J=(0,o._)("div",{class:"dash_welcome_small text-center"},"No hay datos que mostrar para esta CodeQR",-1),K=[H,$,J];function X(t,e,s,H,$,J){const X=(0,o.up)("q-spinner"),tt=(0,o.up)("q-separator"),et=(0,o.up)("q-td"),st=(0,o.up)("q-table"),ot=(0,o.up)("q-card");return(0,o.wg)(),(0,o.iD)("div",a,[(0,o.Wm)(ot,{class:"col-md-6 col-sm-12 col-xs-12"},{default:(0,o.w5)((()=>[$.loading?((0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(X,{color:"primary",size:"8em",style:{position:"absolute",top:"50%",left:"40%"}}),l])):$.haydata?((0,o.wg)(),(0,o.iD)("div",n,[(0,o._)("div",c,[(0,o._)("div",d,[(0,o._)("div",m,[(0,o._)("div",u,[(0,o._)("div",g,[(0,o._)("img",{width:"100",src:$.registro.logo,onerror:"this.src='logo_nophoto.png'"},null,8,p)]),(0,o._)("table",h,[(0,o._)("tr",null,[(0,o._)("td",null,[(0,o._)("span",null,(0,i.zw)($.registro.razonsocialdetail),1),f,(0,o._)("span",j,(0,i.zw)($.registro.direcciondetail),1),b,(0,o._)("span",w," RIF: "+(0,i.zw)($.registro.rifdetail),1)])])])])]),(0,o._)("div",y,[(0,o._)("table",_,[(0,o._)("tr",null,[(0,o._)("td",z,[(0,o._)("span",null,[(0,o.Uk)("N° DE CONTROL: "),(0,o._)("span",v,(0,i.zw)($.registro.numerodocumento),1)]),(0,o._)("span",null,(0,i.zw)($.registro.tipodocumentodetail)+": "+(0,i.zw)($.registro.numerointerno),1),$.numeroafectadoDet.length>0?((0,o.wg)(),(0,o.iD)("span",k,[(0,o.Uk)("Afecta a: "+(0,i.zw)(t.tipodocafectadoDet)+" ",1),(0,o._)("span",x,(0,i.zw)($.numeroafectadoDet),1)])):(0,o.kq)("",!0),$.numeroafectadoDet.length>0?((0,o.wg)(),(0,o.iD)("span",D,"Fecha: "+(0,i.zw)(t.fechaafectadoDet),1)):(0,o.kq)("",!0)])])])])]),(0,o.Wm)(tt),(0,o._)("div",N,[(0,o._)("table",q,[(0,o._)("tr",null,[(0,o._)("td",null," Cliente: "+(0,i.zw)($.registro.nombreclientedetail),1)]),(0,o._)("tr",null,[(0,o._)("td",null,(0,i.zw)(" "+$.registro.abrevdetail)+": "+(0,i.zw)($.registro.cedulaclientedetail),1)]),(0,o._)("tr",null,[(0,o._)("td",null,"Teléfono: "+(0,i.zw)($.registro.telefonoclientedetail),1)]),(0,o._)("tr",null,[(0,o._)("td",null,"Dirección: "+(0,i.zw)($.registro.direccionclientedetail),1)])]),(0,o._)("table",Y,[(0,o._)("tr",null,[(0,o._)("td",null,"Fecha de Emisión: "+(0,i.zw)($.registro.fechadetail),1)]),(0,o._)("tr",null,[(0,o._)("td",null,"Hora de Emisión: "+(0,i.zw)($.registro.horadetail),1)]),C,F])]),(0,o._)("div",M,[(0,o.Wm)(st,{class:"col",rows:$.detallesDoc,columns:$.columnsDetallesDoc,"row-key":"codigo","hide-pagination":"",dense:"",style:{width:"100%",margin:"10px"}},{"body-cell-codigo":(0,o.w5)((t=>[(0,o.Wm)(et,{props:t,style:{"font-size":"11px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(t.row.codigo),1)])),_:2},1032,["props"])])),"body-cell-descripcion":(0,o.w5)((t=>[(0,o.Wm)(et,{props:t,style:{display:"grid",height:"fit-content","white-space":"pre-wrap",width:"250px","font-size":"11px"}},{default:(0,o.w5)((()=>[(0,o._)("span",null,(0,i.zw)(t.row.descripcion),1),(0,o._)("span",null,(0,i.zw)(t.row.comentario),1)])),_:2},1032,["props"])])),"body-cell-precio":(0,o.w5)((t=>[(0,o.Wm)(et,{props:t,style:{"font-size":"11px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(t.row.precio),1)])),_:2},1032,["props"])])),"body-cell-cantidad":(0,o.w5)((t=>[(0,o.Wm)(et,{props:t,style:{"font-size":"11px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(t.row.cantidad),1)])),_:2},1032,["props"])])),"body-cell-tasa":(0,o.w5)((t=>[(0,o.Wm)(et,{props:t,style:{"font-size":"11px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(t.row.tasa),1)])),_:2},1032,["props"])])),"body-cell-descuento":(0,o.w5)((t=>[(0,o.Wm)(et,{props:t,style:{"font-size":"11px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(t.row.descuento),1)])),_:2},1032,["props"])])),"body-cell-monto":(0,o.w5)((t=>[(0,o.Wm)(et,{props:t,style:{"font-size":"11px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(t.row.monto),1)])),_:2},1032,["props"])])),_:1},8,["rows","columns"])]),(0,o._)("div",Z,[(0,o._)("table",W,[(0,o._)("tr",null,[I,(0,o._)("td",Q,(0,i.zw)($.registro.subtotaldetail),1)]),"0,00"!==$.registro.impuestogdetail?((0,o.wg)(),(0,o.iD)("tr",T,[U,(0,o._)("td",E,(0,i.zw)($.registro.impuestogdetail),1)])):(0,o.kq)("",!0),"0,00"!==$.registro.impuestordetail?((0,o.wg)(),(0,o.iD)("tr",O,[S,(0,o._)("td",B,(0,i.zw)($.registro.impuestordetail),1)])):(0,o.kq)("",!0),"0,00"!==$.registro.impuestoigtfdetail?((0,o.wg)(),(0,o.iD)("tr",P,[A,(0,o._)("td",L,(0,i.zw)($.registro.impuestoigtfdetail),1)])):(0,o.kq)("",!0),(0,o._)("tr",null,[R,(0,o._)("td",V,(0,i.zw)($.registro.totaldetail),1)])])])])])):((0,o.wg)(),(0,o.iD)("div",G,K))])),_:1})])}s(4564);var tt=s(52),et=s.n(tt),st=s(4434),ot=s(1488),it=s.n(ot);const at=s(5770),rt=at.endpoint_path_v2,lt={name:"ViewInvoiceLayout",data(){return{loading:!0,haydata:!1,registro:{},numeroafectadoDet:"",columnsDetallesDoc:[{name:"codigo",label:"Código",align:"left",field:"codigo"},{name:"descripcion",align:"left",label:"Descripción",field:"descripcion"},{name:"precio",align:"left",label:"Precio",field:"precio"},{name:"cantidad",align:"left",label:"Cantidad",field:"cantidad"},{name:"tasa",align:"left",label:"Tasa",field:"tasa"},{name:"descuento",label:"Descuento",field:"descuento"},{name:"monto",label:"Monto",field:"monto"}],detallesDoc:[]}},methods:{listarfacturas(){const t={idserviciosmasivo:this.idserviciosmasivo,numerodocumento:this.numerodocumento,estatus:4};this.loading=!0,et().post(rt+"reporte/facturas",t).then((async t=>{const e=t.data.data;for(const s in e){const t={};t.cod=e[s].id,t.logo=rt+"imagen/"+e[s].rif+".png",t.idserviciosmasivo=e[s].idserviciosmasivo,t.razonsocial=e[s].razonsocial,t.rif=e[s].rif,t.piedepagina=e[s].piedepagina,t.relacionado=e[s].relacionado,t.notadebito=e[s].notadebito,t.notacredito=e[s].notacredito,t.direccion=e[s].direccion,t.telefono=e[s].telefono,t.trackingid=e[s].trackingid,t.numerodocumento=e[s].numerodocumento,t.numerointerno=e[s].numerointerno,t.tipodocumento=e[s].tipodocumento,t.abrev=e[s].abrev,t.cedulacliente=e[s].cedulacliente,t.nombrecliente=e[s].nombrecliente,t.direccioncliente=e[s].direccioncliente,t.emailcliente=e[s].emailcliente,t.telefonocliente=e[s].telefonocliente,t.estatus=e[s].estatus,t.observacion=e[s].observacion,t.fecha=it()(e[s].fecha).format("DD/MM/YYYY hh:mm:ss a"),t.fechasolo=it()(e[s].fecha).format("DD/MM/YYYY"),t.hora=it()(e[s].fecha).format("hh:mm:ss a"),e[s].fecha=t.fecha,t.subtotal=e[s].subtotal,t.total=e[s].total,t.tasag=e[s].tasag?e[s].tasag+"%":"0%",t.tasar=e[s].tasar?e[s].tasar+"%":"0%",t.tasaigtf=e[s].tasaigtf?e[s].tasaigtf+"%":"0%",t.exento=e[s].exento||0,t.exentoN=e[s].exento||0,t.baseg=e[s].baseg||0,t.basegN=e[s].baseg||0,t.impuestogN=e[s].impuestog||0,t.baser=e[s].baser||0,t.baserN=e[s].baser||0,t.impuestorN=e[s].impuestor||0,t.baseigtf=e[s].baseigtf||0,t.baseigtfN=e[s].baseigtf||0,t.impuestoigtfN=e[s].impuestoigtf||0,t.totalimpuestos=Number(t.impuestogN)+Number(t.impuestorN)+Number(t.impuestoigtfN),t.exento=this.completarDecimales(t.exento),t.baseg=this.completarDecimales(t.baseg),t.impuestog=this.completarDecimales(t.impuestogN),t.baser=this.completarDecimales(t.baser),t.impuestor=this.completarDecimales(t.impuestorN),t.baseigtf=this.completarDecimales(t.baseigtf),t.impuestoigtf=this.completarDecimales(t.impuestoigtfN),this.buscarDetalles(t)}this.loading=!1})).catch((t=>{st.Z.create("Problemas al listar Factura "+t)}))},completarDecimales(t){t=Intl.NumberFormat("de-DE").format(t.toFixed(2));const e=t.split(",");return t=1===e.length?t+",00":1===e[1].length?t+"0":t,t},async buscarDetalles(t){if(this.detallesDoc=[],t.cod){const e=await et().get(rt+"reporte/facturas/detalles/"+t.cod);let s=0;for(const t in e.data.data){const o=e.data.data[t],i={};i.codigo=o.codigo,i.descripcion=o.descripcion,i.comentario=o.comentario,i.cantidad=o.cantidad.toFixed(2),i.precio=o.precio.toFixed(2),i.tasa=o.tasa.toFixed(2),i.exento=o.exento;const a=o.precio*o.cantidad-o.monto;i.descuento=Math.abs(a).toFixed(2),i.monto=o.monto.toFixed(2),s+=Number(i.monto),this.detallesDoc.push(i)}if(this.tipodocafectado="",this.fechaafectado="",this.numeroafectado="",t.relacionado.length>0){const e={idserviciosmasivo:t.idserviciosmasivo,numerodocumento:t.relacionado};await et().post(rt+"reporte/facturas/relacionado",e).then((async e=>{const s=e.data.data;this.tipodocafectado=s[0].tipodocumento,this.fechaafectado=it()(s[0].fecha).format("DD/MM/YYYY hh:mm:ss a"),this.numeroafectado=s[0].numerointerno.length>0?s[0].numerointerno:t.relacionado}))}t.subtotal=e.data.data.length>0?s:t.subtotal}t.fecha=it()(t.fecha,"DD/MM/YYYY hh:mm:ss a"),this.registro.logo=t.logo,this.registro.razonsocialdetail=t.razonsocial,this.registro.rifdetail=t.rif,this.registro.direcciondetail=t.direccion,this.registro.tipodocumentodetail=t.tipodocumento,this.registro.numerodocumento=t.numerodocumento,this.registro.numerointerno=t.numerointerno,this.registro.nombreclientedetail=t.nombrecliente,this.registro.piedepagina=t.piedepagina,this.registro.abrevdetail=t.abrev,this.registro.cedulaclientedetail=t.cedulacliente,this.registro.direccionclientedetail=t.direccioncliente,this.registro.telefonoclientedetail=t.telefonocliente,this.registro.emailclientedetail=t.emailcliente,this.registro.fechadetail=t.fechasolo,this.registro.horadetail=t.hora,this.registro.exentodetail=t.exento,this.registro.basegdetail=t.baseg,this.registro.baserdetail=t.baser,this.registro.baseigtfdetail=t.baseigtf,this.registro.impuestogdetail=t.impuestog,this.registro.impuestordetail=t.impuestor,this.registro.impuestoigtfdetail=t.impuestoigtf,this.registro.totalimpuestodetail=Number(t.impuestogN)+Number(t.impuestorN)+Number(t.impuestoigtfN),t.total=t.subtotal+this.registro.totalimpuestodetail,this.registro.totalimpuestodetail=this.completarDecimales(this.registro.totalimpuestodetail),this.registro.subtotaldetail=this.completarDecimales(t.subtotal),this.registro.totaldetail=this.completarDecimales(t.total),this.haydata=!0},async getIdClienteEmisor(t){const e={rif:t};return await et().post(rt+"sede/buscarid",e)}},async mounted(){this.qrinvoice=this.$route.params.qrinvoice,this.rif=this.qrinvoice.split("SM")[0],this.numerodocumento=this.qrinvoice.split("SM")[1];const t=await(await this.getIdClienteEmisor(this.rif)).data.data;t?(this.idserviciosmasivo=t.id,this.listarfacturas()):console.log("Cliente emisor no encontrado")}};var nt=s(4260),ct=s(151),dt=s(6833),mt=s(5869),ut=s(4993),gt=s(3884),pt=s(3414),ht=s(2035),ft=s(9367),jt=s(2165),bt=s(677),wt=s(7518),yt=s.n(wt);const _t=(0,nt.Z)(lt,[["render",X]]),zt=_t;yt()(lt,"components",{QCard:ct.Z,QSpinner:dt.Z,QSeparator:mt.Z,QTable:ut.Z,QTd:gt.Z,QItem:pt.Z,QItemSection:ht.Z,QCardActions:ft.Z,QBtn:jt.Z}),yt()(lt,"directives",{ClosePopup:bt.Z})},6700:(t,e,s)=>{var o={"./af":5809,"./af.js":5809,"./ar":6069,"./ar-dz":481,"./ar-dz.js":481,"./ar-kw":3994,"./ar-kw.js":3994,"./ar-ly":3312,"./ar-ly.js":3312,"./ar-ma":239,"./ar-ma.js":239,"./ar-ps":7916,"./ar-ps.js":7916,"./ar-sa":1863,"./ar-sa.js":1863,"./ar-tn":9607,"./ar-tn.js":9607,"./ar.js":6069,"./az":9281,"./az.js":9281,"./be":9945,"./be.js":9945,"./bg":9384,"./bg.js":9384,"./bm":1476,"./bm.js":1476,"./bn":3345,"./bn-bd":216,"./bn-bd.js":216,"./bn.js":3345,"./bo":1713,"./bo.js":1713,"./br":9655,"./br.js":9655,"./bs":7296,"./bs.js":7296,"./ca":3049,"./ca.js":3049,"./cs":2722,"./cs.js":2722,"./cv":8039,"./cv.js":8039,"./cy":5563,"./cy.js":5563,"./da":1960,"./da.js":1960,"./de":7533,"./de-at":6674,"./de-at.js":6674,"./de-ch":7732,"./de-ch.js":7732,"./de.js":7533,"./dv":8343,"./dv.js":8343,"./el":7004,"./el.js":7004,"./en-au":2517,"./en-au.js":2517,"./en-ca":4929,"./en-ca.js":4929,"./en-gb":9722,"./en-gb.js":9722,"./en-ie":6923,"./en-ie.js":6923,"./en-il":8050,"./en-il.js":8050,"./en-in":9624,"./en-in.js":9624,"./en-nz":540,"./en-nz.js":540,"./en-sg":4375,"./en-sg.js":4375,"./eo":40,"./eo.js":40,"./es":9720,"./es-do":5595,"./es-do.js":5595,"./es-mx":180,"./es-mx.js":180,"./es-us":1563,"./es-us.js":1563,"./es.js":9720,"./et":9217,"./et.js":9217,"./eu":9474,"./eu.js":9474,"./fa":5243,"./fa.js":5243,"./fi":7645,"./fi.js":7645,"./fil":5350,"./fil.js":5350,"./fo":5622,"./fo.js":5622,"./fr":1467,"./fr-ca":3439,"./fr-ca.js":3439,"./fr-ch":4335,"./fr-ch.js":4335,"./fr.js":1467,"./fy":6026,"./fy.js":6026,"./ga":2969,"./ga.js":2969,"./gd":1347,"./gd.js":1347,"./gl":1085,"./gl.js":1085,"./gom-deva":904,"./gom-deva.js":904,"./gom-latn":9597,"./gom-latn.js":9597,"./gu":8705,"./gu.js":8705,"./he":9128,"./he.js":9128,"./hi":2821,"./hi.js":2821,"./hr":9002,"./hr.js":9002,"./hu":4814,"./hu.js":4814,"./hy-am":658,"./hy-am.js":658,"./id":9344,"./id.js":9344,"./is":8204,"./is.js":8204,"./it":376,"./it-ch":1549,"./it-ch.js":1549,"./it.js":376,"./ja":9293,"./ja.js":9293,"./jv":6401,"./jv.js":6401,"./ka":482,"./ka.js":482,"./kk":7329,"./kk.js":7329,"./km":4241,"./km.js":4241,"./kn":3566,"./kn.js":3566,"./ko":2742,"./ko.js":2742,"./ku":2915,"./ku-kmr":2346,"./ku-kmr.js":2346,"./ku.js":2915,"./ky":6846,"./ky.js":6846,"./lb":4959,"./lb.js":4959,"./lo":2188,"./lo.js":2188,"./lt":8967,"./lt.js":8967,"./lv":1245,"./lv.js":1245,"./me":751,"./me.js":751,"./mi":7501,"./mi.js":7501,"./mk":1643,"./mk.js":1643,"./ml":5597,"./ml.js":5597,"./mn":7893,"./mn.js":7893,"./mr":9065,"./mr.js":9065,"./ms":4703,"./ms-my":4645,"./ms-my.js":4645,"./ms.js":4703,"./mt":4365,"./mt.js":4365,"./my":3788,"./my.js":3788,"./nb":7357,"./nb.js":7357,"./ne":9109,"./ne.js":9109,"./nl":3746,"./nl-be":1985,"./nl-be.js":1985,"./nl.js":3746,"./nn":7175,"./nn.js":7175,"./oc-lnc":566,"./oc-lnc.js":566,"./pa-in":2733,"./pa-in.js":2733,"./pl":182,"./pl.js":182,"./pt":505,"./pt-br":7839,"./pt-br.js":7839,"./pt.js":505,"./ro":9578,"./ro.js":9578,"./ru":2328,"./ru.js":2328,"./sd":641,"./sd.js":641,"./se":1758,"./se.js":1758,"./si":6680,"./si.js":6680,"./sk":5016,"./sk.js":5016,"./sl":7424,"./sl.js":7424,"./sq":8635,"./sq.js":8635,"./sr":9038,"./sr-cyrl":3716,"./sr-cyrl.js":3716,"./sr.js":9038,"./ss":4771,"./ss.js":4771,"./sv":3517,"./sv.js":3517,"./sw":9419,"./sw.js":9419,"./ta":5959,"./ta.js":5959,"./te":1739,"./te.js":1739,"./tet":2264,"./tet.js":2264,"./tg":4792,"./tg.js":4792,"./th":8328,"./th.js":8328,"./tk":702,"./tk.js":702,"./tl-ph":7814,"./tl-ph.js":7814,"./tlh":797,"./tlh.js":797,"./tr":6691,"./tr.js":6691,"./tzl":6891,"./tzl.js":6891,"./tzm":6362,"./tzm-latn":7855,"./tzm-latn.js":7855,"./tzm.js":6362,"./ug-cn":7606,"./ug-cn.js":7606,"./uk":513,"./uk.js":513,"./ur":3803,"./ur.js":3803,"./uz":344,"./uz-latn":8957,"./uz-latn.js":8957,"./uz.js":344,"./vi":3,"./vi.js":3,"./x-pseudo":8842,"./x-pseudo.js":8842,"./yo":2083,"./yo.js":2083,"./zh-cn":4536,"./zh-cn.js":4536,"./zh-hk":2475,"./zh-hk.js":2475,"./zh-mo":7593,"./zh-mo.js":7593,"./zh-tw":4746,"./zh-tw.js":4746};function i(t){var e=a(t);return s(e)}function a(t){if(!s.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}i.keys=function(){return Object.keys(o)},i.resolve=a,t.exports=i,i.id=6700}}]);