(globalThis["webpackChunksit_frontend"]=globalThis["webpackChunksit_frontend"]||[]).push([[526],{55770:t=>{t.exports={endpoint_path_v2:"https://bck.factura-smart.com/",version:"2.0.0"}},96569:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>zt});var o=s(83673),i=s(62323);const a={class:"my-font my-fondo row"},r={key:0,style:{position:"relative",height:"500px"}},l=(0,o._)("div",{style:{position:"absolute",top:"30%",left:"25%",right:"25%","font-size":"20px"}},"Por favor espere... Procesando!",-1),n={key:1,id:"detailid",class:"row",style:{"padding-top":"10px"}},c={class:"col"},d={class:"row"},m={class:"col-md-6 col-sm-6 col-xs-12"},u={class:"row"},g={class:"col-6 text-center"},p=["src"],h={class:"col-6"},f=(0,o._)("br",null,null,-1),j={style:{"font-size":"10px"}},b=(0,o._)("br",null,null,-1),w={style:{"font-size":"10px"}},y={class:"col-md-6 col-sm-6 col-xs-12 text-center"},_={style:{width:"100%"}},z={style:{display:"grid"}},v={style:{"font-size":"18px",color:"#e00303","font-weight":"bolder"}},k={key:0,style:{"font-size":"10px"}},x={style:{color:"#e00303","font-weight":"bolder"}},D={key:1,style:{"font-size":"10px"}},N={class:"row"},q={class:"col-md-7 col-sm-7 col-xs-12",style:{"margin-left":"20px"}},Y={class:"col-md-4 col-sm-4 col-xs-12",style:{"margin-left":"20px"}},C=(0,o._)("tr",null,[(0,o._)("td")],-1),F=(0,o._)("tr",null,[(0,o._)("td")],-1),M={class:"row"},Z={class:"row"},W={class:"col",style:{"margin-right":"20px"}},I=(0,o._)("td",{style:{width:"80%","text-align":"right"}}," Subtotal Bs.: ",-1),Q={style:{"text-align":"right"}},T={key:0},U=(0,o._)("td",{style:{"text-align":"right"}},"IVA 16% Bs.:",-1),E={style:{"text-align":"right"}},O={key:1},S=(0,o._)("td",{style:{"text-align":"right"}},"IVA 8% Bs.:",-1),B={style:{"text-align":"right"}},P={key:2},A=(0,o._)("td",{style:{"text-align":"right"}},"IGTF 3% Bs.:",-1),L={style:{"text-align":"right"}},R=(0,o._)("td",{style:{"text-align":"right"}},"Total Bs.:",-1),V={style:{"text-align":"right"}},G={key:2,class:"text-center"},H=(0,o._)("div",{class:"dash_welcome_blue"},"Oops!",-1),$=(0,o._)("img",{src:"estatusgrafica.png",alt:"Sin datos",style:{width:"250px"}},null,-1),J=(0,o._)("div",{class:"dash_welcome_small text-center"},"No hay datos que mostrar para esta CodeQR",-1),K=[H,$,J];function X(t,e,s,H,$,J){const X=(0,o.up)("q-spinner"),tt=(0,o.up)("q-separator"),et=(0,o.up)("q-td"),st=(0,o.up)("q-table"),ot=(0,o.up)("q-card");return(0,o.wg)(),(0,o.iD)("div",a,[(0,o.Wm)(ot,{class:"col-md-6 col-sm-12 col-xs-12"},{default:(0,o.w5)((()=>[$.loading?((0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(X,{color:"primary",size:"8em",style:{position:"absolute",top:"50%",left:"40%"}}),l])):$.haydata?((0,o.wg)(),(0,o.iD)("div",n,[(0,o._)("div",c,[(0,o._)("div",d,[(0,o._)("div",m,[(0,o._)("div",u,[(0,o._)("div",g,[(0,o._)("img",{width:"100",src:$.registro.logo,onerror:"this.src='logo_nophoto.png'"},null,8,p)]),(0,o._)("table",h,[(0,o._)("tr",null,[(0,o._)("td",null,[(0,o._)("span",null,(0,i.zw)($.registro.razonsocialdetail),1),f,(0,o._)("span",j,(0,i.zw)($.registro.direcciondetail),1),b,(0,o._)("span",w," RIF: "+(0,i.zw)($.registro.rifdetail),1)])])])])]),(0,o._)("div",y,[(0,o._)("table",_,[(0,o._)("tr",null,[(0,o._)("td",z,[(0,o._)("span",null,[(0,o.Uk)("N° DE CONTROL: "),(0,o._)("span",v,(0,i.zw)($.registro.numerodocumento),1)]),(0,o._)("span",null,(0,i.zw)($.registro.tipodocumentodetail)+": "+(0,i.zw)($.registro.numerointerno),1),$.numeroafectadoDet.length>0?((0,o.wg)(),(0,o.iD)("span",k,[(0,o.Uk)("Afecta a: "+(0,i.zw)(t.tipodocafectadoDet)+" ",1),(0,o._)("span",x,(0,i.zw)($.numeroafectadoDet),1)])):(0,o.kq)("",!0),$.numeroafectadoDet.length>0?((0,o.wg)(),(0,o.iD)("span",D,"Fecha: "+(0,i.zw)(t.fechaafectadoDet),1)):(0,o.kq)("",!0)])])])])]),(0,o.Wm)(tt),(0,o._)("div",N,[(0,o._)("table",q,[(0,o._)("tr",null,[(0,o._)("td",null," Cliente: "+(0,i.zw)($.registro.nombreclientedetail),1)]),(0,o._)("tr",null,[(0,o._)("td",null,(0,i.zw)(" "+$.registro.abrevdetail)+": "+(0,i.zw)($.registro.cedulaclientedetail),1)]),(0,o._)("tr",null,[(0,o._)("td",null,"Teléfono: "+(0,i.zw)($.registro.telefonoclientedetail),1)]),(0,o._)("tr",null,[(0,o._)("td",null,"Dirección: "+(0,i.zw)($.registro.direccionclientedetail),1)])]),(0,o._)("table",Y,[(0,o._)("tr",null,[(0,o._)("td",null,"Fecha de Emisión: "+(0,i.zw)($.registro.fechadetail),1)]),(0,o._)("tr",null,[(0,o._)("td",null,"Hora de Emisión: "+(0,i.zw)($.registro.horadetail),1)]),C,F])]),(0,o._)("div",M,[(0,o.Wm)(st,{class:"col",rows:$.detallesDoc,columns:$.columnsDetallesDoc,"row-key":"codigo","hide-pagination":"",dense:"",style:{width:"100%",margin:"10px"}},{"body-cell-codigo":(0,o.w5)((t=>[(0,o.Wm)(et,{props:t,style:{"font-size":"11px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(t.row.codigo),1)])),_:2},1032,["props"])])),"body-cell-descripcion":(0,o.w5)((t=>[(0,o.Wm)(et,{props:t,style:{display:"grid",height:"fit-content","white-space":"pre-wrap",width:"250px","font-size":"11px"}},{default:(0,o.w5)((()=>[(0,o._)("span",null,(0,i.zw)(t.row.descripcion),1),(0,o._)("span",null,(0,i.zw)(t.row.comentario),1)])),_:2},1032,["props"])])),"body-cell-precio":(0,o.w5)((t=>[(0,o.Wm)(et,{props:t,style:{"font-size":"11px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(t.row.precio),1)])),_:2},1032,["props"])])),"body-cell-cantidad":(0,o.w5)((t=>[(0,o.Wm)(et,{props:t,style:{"font-size":"11px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(t.row.cantidad),1)])),_:2},1032,["props"])])),"body-cell-tasa":(0,o.w5)((t=>[(0,o.Wm)(et,{props:t,style:{"font-size":"11px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(t.row.tasa),1)])),_:2},1032,["props"])])),"body-cell-descuento":(0,o.w5)((t=>[(0,o.Wm)(et,{props:t,style:{"font-size":"11px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(t.row.descuento),1)])),_:2},1032,["props"])])),"body-cell-monto":(0,o.w5)((t=>[(0,o.Wm)(et,{props:t,style:{"font-size":"11px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(t.row.monto),1)])),_:2},1032,["props"])])),_:1},8,["rows","columns"])]),(0,o._)("div",Z,[(0,o._)("table",W,[(0,o._)("tr",null,[I,(0,o._)("td",Q,(0,i.zw)($.registro.subtotaldetail),1)]),"0,00"!==$.registro.impuestogdetail?((0,o.wg)(),(0,o.iD)("tr",T,[U,(0,o._)("td",E,(0,i.zw)($.registro.impuestogdetail),1)])):(0,o.kq)("",!0),"0,00"!==$.registro.impuestordetail?((0,o.wg)(),(0,o.iD)("tr",O,[S,(0,o._)("td",B,(0,i.zw)($.registro.impuestordetail),1)])):(0,o.kq)("",!0),"0,00"!==$.registro.impuestoigtfdetail?((0,o.wg)(),(0,o.iD)("tr",P,[A,(0,o._)("td",L,(0,i.zw)($.registro.impuestoigtfdetail),1)])):(0,o.kq)("",!0),(0,o._)("tr",null,[R,(0,o._)("td",V,(0,i.zw)($.registro.totaldetail),1)])])])])])):((0,o.wg)(),(0,o.iD)("div",G,K))])),_:1})])}s(54564);var tt=s(30052),et=s.n(tt),st=s(64434),ot=s(11488),it=s.n(ot);const at=s(55770),rt=at.endpoint_path_v2,lt={name:"ViewInvoiceLayout",data(){return{loading:!0,haydata:!1,registro:{},numeroafectadoDet:"",columnsDetallesDoc:[{name:"codigo",label:"Código",align:"left",field:"codigo"},{name:"descripcion",align:"left",label:"Descripción",field:"descripcion"},{name:"precio",align:"left",label:"Precio",field:"precio"},{name:"cantidad",align:"left",label:"Cantidad",field:"cantidad"},{name:"tasa",align:"left",label:"Tasa",field:"tasa"},{name:"descuento",label:"Descuento",field:"descuento"},{name:"monto",label:"Monto",field:"monto"}],detallesDoc:[]}},methods:{listarfacturas(){const t={idserviciosmasivo:this.idserviciosmasivo,numerodocumento:this.numerodocumento,estatus:4};this.loading=!0,et().post(rt+"reporte/facturas",t).then((async t=>{const e=t.data.data;for(const s in e){const t={};t.cod=e[s].id,t.logo=rt+"imagen/"+e[s].rif+".png",t.idserviciosmasivo=e[s].idserviciosmasivo,t.razonsocial=e[s].razonsocial,t.rif=e[s].rif,t.piedepagina=e[s].piedepagina,t.relacionado=e[s].relacionado,t.notadebito=e[s].notadebito,t.notacredito=e[s].notacredito,t.direccion=e[s].direccion,t.telefono=e[s].telefono,t.trackingid=e[s].trackingid,t.numerodocumento=e[s].numerodocumento,t.numerointerno=e[s].numerointerno,t.tipodocumento=e[s].tipodocumento,t.abrev=e[s].abrev,t.cedulacliente=e[s].cedulacliente,t.nombrecliente=e[s].nombrecliente,t.direccioncliente=e[s].direccioncliente,t.emailcliente=e[s].emailcliente,t.telefonocliente=e[s].telefonocliente,t.estatus=e[s].estatus,t.observacion=e[s].observacion,t.fecha=it()(e[s].fecha).format("DD/MM/YYYY hh:mm:ss a"),t.fechasolo=it()(e[s].fecha).format("DD/MM/YYYY"),t.hora=it()(e[s].fecha).format("hh:mm:ss a"),e[s].fecha=t.fecha,t.subtotal=e[s].subtotal,t.total=e[s].total,t.tasag=e[s].tasag?e[s].tasag+"%":"0%",t.tasar=e[s].tasar?e[s].tasar+"%":"0%",t.tasaigtf=e[s].tasaigtf?e[s].tasaigtf+"%":"0%",t.exento=e[s].exento||0,t.exentoN=e[s].exento||0,t.baseg=e[s].baseg||0,t.basegN=e[s].baseg||0,t.impuestogN=e[s].impuestog||0,t.baser=e[s].baser||0,t.baserN=e[s].baser||0,t.impuestorN=e[s].impuestor||0,t.baseigtf=e[s].baseigtf||0,t.baseigtfN=e[s].baseigtf||0,t.impuestoigtfN=e[s].impuestoigtf||0,t.totalimpuestos=Number(t.impuestogN)+Number(t.impuestorN)+Number(t.impuestoigtfN),t.exento=this.completarDecimales(t.exento),t.baseg=this.completarDecimales(t.baseg),t.impuestog=this.completarDecimales(t.impuestogN),t.baser=this.completarDecimales(t.baser),t.impuestor=this.completarDecimales(t.impuestorN),t.baseigtf=this.completarDecimales(t.baseigtf),t.impuestoigtf=this.completarDecimales(t.impuestoigtfN),this.buscarDetalles(t)}this.loading=!1})).catch((t=>{st.Z.create("Problemas al listar Factura "+t)}))},completarDecimales(t){t=Intl.NumberFormat("de-DE").format(t.toFixed(2));const e=t.split(",");return t=1===e.length?t+",00":1===e[1].length?t+"0":t,t},async buscarDetalles(t){if(this.detallesDoc=[],t.cod){const e=await et().get(rt+"reporte/facturas/detalles/"+t.cod);let s=0;for(const t in e.data.data){const o=e.data.data[t],i={};i.codigo=o.codigo,i.descripcion=o.descripcion,i.comentario=o.comentario,i.cantidad=o.cantidad.toFixed(2),i.precio=o.precio.toFixed(2),i.tasa=o.tasa.toFixed(2),i.exento=o.exento;const a=o.precio*o.cantidad-o.monto;i.descuento=Math.abs(a).toFixed(2),i.monto=o.monto.toFixed(2),s+=Number(i.monto),this.detallesDoc.push(i)}if(this.tipodocafectado="",this.fechaafectado="",this.numeroafectado="",t.relacionado.length>0){const e={idserviciosmasivo:t.idserviciosmasivo,numerodocumento:t.relacionado};await et().post(rt+"reporte/facturas/relacionado",e).then((async e=>{const s=e.data.data;this.tipodocafectado=s[0].tipodocumento,this.fechaafectado=it()(s[0].fecha).format("DD/MM/YYYY hh:mm:ss a"),this.numeroafectado=s[0].numerointerno.length>0?s[0].numerointerno:t.relacionado}))}t.subtotal=e.data.data.length>0?s:t.subtotal}t.fecha=it()(t.fecha,"DD/MM/YYYY hh:mm:ss a"),this.registro.logo=t.logo,this.registro.razonsocialdetail=t.razonsocial,this.registro.rifdetail=t.rif,this.registro.direcciondetail=t.direccion,this.registro.tipodocumentodetail=t.tipodocumento,this.registro.numerodocumento=t.numerodocumento,this.registro.numerointerno=t.numerointerno,this.registro.nombreclientedetail=t.nombrecliente,this.registro.piedepagina=t.piedepagina,this.registro.abrevdetail=t.abrev,this.registro.cedulaclientedetail=t.cedulacliente,this.registro.direccionclientedetail=t.direccioncliente,this.registro.telefonoclientedetail=t.telefonocliente,this.registro.emailclientedetail=t.emailcliente,this.registro.fechadetail=t.fechasolo,this.registro.horadetail=t.hora,this.registro.exentodetail=t.exento,this.registro.basegdetail=t.baseg,this.registro.baserdetail=t.baser,this.registro.baseigtfdetail=t.baseigtf,this.registro.impuestogdetail=t.impuestog,this.registro.impuestordetail=t.impuestor,this.registro.impuestoigtfdetail=t.impuestoigtf,this.registro.totalimpuestodetail=Number(t.impuestogN)+Number(t.impuestorN)+Number(t.impuestoigtfN),t.total=t.subtotal+this.registro.totalimpuestodetail,this.registro.totalimpuestodetail=this.completarDecimales(this.registro.totalimpuestodetail),this.registro.subtotaldetail=this.completarDecimales(t.subtotal),this.registro.totaldetail=this.completarDecimales(t.total),this.haydata=!0},async getIdClienteEmisor(t){const e={rif:t};return await et().post(rt+"sede/buscarid",e)}},async mounted(){this.qrinvoice=this.$route.params.qrinvoice,this.rif=this.qrinvoice.split("SM")[0],this.numerodocumento=this.qrinvoice.split("SM")[1];const t=await(await this.getIdClienteEmisor(this.rif)).data.data;t?(this.idserviciosmasivo=t.id,this.listarfacturas()):console.log("Cliente emisor no encontrado")}};var nt=s(74260),ct=s(10151),dt=s(6833),mt=s(65869),ut=s(54993),gt=s(83884),pt=s(83414),ht=s(52035),ft=s(99367),jt=s(2165),bt=s(60677),wt=s(7518),yt=s.n(wt);const _t=(0,nt.Z)(lt,[["render",X]]),zt=_t;yt()(lt,"components",{QCard:ct.Z,QSpinner:dt.Z,QSeparator:mt.Z,QTable:ut.Z,QTd:gt.Z,QItem:pt.Z,QItemSection:ht.Z,QCardActions:ft.Z,QBtn:jt.Z}),yt()(lt,"directives",{ClosePopup:bt.Z})},46700:(t,e,s)=>{var o={"./af":5809,"./af.js":5809,"./ar":46069,"./ar-dz":70481,"./ar-dz.js":70481,"./ar-kw":93994,"./ar-kw.js":93994,"./ar-ly":33312,"./ar-ly.js":33312,"./ar-ma":90239,"./ar-ma.js":90239,"./ar-ps":47916,"./ar-ps.js":47916,"./ar-sa":31863,"./ar-sa.js":31863,"./ar-tn":19607,"./ar-tn.js":19607,"./ar.js":46069,"./az":69281,"./az.js":69281,"./be":29945,"./be.js":29945,"./bg":59384,"./bg.js":59384,"./bm":21476,"./bm.js":21476,"./bn":43345,"./bn-bd":70216,"./bn-bd.js":70216,"./bn.js":43345,"./bo":81713,"./bo.js":81713,"./br":19655,"./br.js":19655,"./bs":87296,"./bs.js":87296,"./ca":43049,"./ca.js":43049,"./cs":62722,"./cs.js":62722,"./cv":98039,"./cv.js":98039,"./cy":95563,"./cy.js":95563,"./da":31960,"./da.js":31960,"./de":67533,"./de-at":76674,"./de-at.js":76674,"./de-ch":17732,"./de-ch.js":17732,"./de.js":67533,"./dv":78343,"./dv.js":78343,"./el":37004,"./el.js":37004,"./en-au":32517,"./en-au.js":32517,"./en-ca":84929,"./en-ca.js":84929,"./en-gb":99722,"./en-gb.js":99722,"./en-ie":96923,"./en-ie.js":96923,"./en-il":68050,"./en-il.js":68050,"./en-in":99624,"./en-in.js":99624,"./en-nz":70540,"./en-nz.js":70540,"./en-sg":14375,"./en-sg.js":14375,"./eo":10040,"./eo.js":10040,"./es":99720,"./es-do":25595,"./es-do.js":25595,"./es-mx":10180,"./es-mx.js":10180,"./es-us":61563,"./es-us.js":61563,"./es.js":99720,"./et":9217,"./et.js":9217,"./eu":39474,"./eu.js":39474,"./fa":85243,"./fa.js":85243,"./fi":57645,"./fi.js":57645,"./fil":55350,"./fil.js":55350,"./fo":75622,"./fo.js":75622,"./fr":91467,"./fr-ca":53439,"./fr-ca.js":53439,"./fr-ch":14335,"./fr-ch.js":14335,"./fr.js":91467,"./fy":86026,"./fy.js":86026,"./ga":32969,"./ga.js":32969,"./gd":21347,"./gd.js":21347,"./gl":11085,"./gl.js":11085,"./gom-deva":904,"./gom-deva.js":904,"./gom-latn":69597,"./gom-latn.js":69597,"./gu":28705,"./gu.js":28705,"./he":69128,"./he.js":69128,"./hi":92821,"./hi.js":92821,"./hr":9002,"./hr.js":9002,"./hu":94814,"./hu.js":94814,"./hy-am":30658,"./hy-am.js":30658,"./id":29344,"./id.js":29344,"./is":28204,"./is.js":28204,"./it":70376,"./it-ch":81549,"./it-ch.js":81549,"./it.js":70376,"./ja":69293,"./ja.js":69293,"./jv":96401,"./jv.js":96401,"./ka":60482,"./ka.js":60482,"./kk":87329,"./kk.js":87329,"./km":44241,"./km.js":44241,"./kn":23566,"./kn.js":23566,"./ko":52742,"./ko.js":52742,"./ku":92915,"./ku-kmr":12346,"./ku-kmr.js":12346,"./ku.js":92915,"./ky":86846,"./ky.js":86846,"./lb":44959,"./lb.js":44959,"./lo":82188,"./lo.js":82188,"./lt":58967,"./lt.js":58967,"./lv":41245,"./lv.js":41245,"./me":90751,"./me.js":90751,"./mi":57501,"./mi.js":57501,"./mk":11643,"./mk.js":11643,"./ml":15597,"./ml.js":15597,"./mn":67612,"./mn.js":67612,"./mr":19065,"./mr.js":19065,"./ms":84703,"./ms-my":84645,"./ms-my.js":84645,"./ms.js":84703,"./mt":64365,"./mt.js":64365,"./my":83788,"./my.js":83788,"./nb":57357,"./nb.js":57357,"./ne":99109,"./ne.js":99109,"./nl":63746,"./nl-be":31985,"./nl-be.js":31985,"./nl.js":63746,"./nn":27175,"./nn.js":27175,"./oc-lnc":70566,"./oc-lnc.js":70566,"./pa-in":32733,"./pa-in.js":32733,"./pl":182,"./pl.js":182,"./pt":505,"./pt-br":17839,"./pt-br.js":17839,"./pt.js":505,"./ro":39578,"./ro.js":39578,"./ru":32328,"./ru.js":32328,"./sd":641,"./sd.js":641,"./se":51758,"./se.js":51758,"./si":36680,"./si.js":36680,"./sk":25016,"./sk.js":25016,"./sl":7424,"./sl.js":7424,"./sq":88635,"./sq.js":88635,"./sr":49038,"./sr-cyrl":73716,"./sr-cyrl.js":73716,"./sr.js":49038,"./ss":64771,"./ss.js":64771,"./sv":3517,"./sv.js":3517,"./sw":39419,"./sw.js":39419,"./ta":55959,"./ta.js":55959,"./te":21739,"./te.js":21739,"./tet":22264,"./tet.js":22264,"./tg":94792,"./tg.js":94792,"./th":88328,"./th.js":88328,"./tk":60702,"./tk.js":60702,"./tl-ph":57814,"./tl-ph.js":57814,"./tlh":10797,"./tlh.js":10797,"./tr":16691,"./tr.js":16691,"./tzl":76891,"./tzl.js":76891,"./tzm":16362,"./tzm-latn":37855,"./tzm-latn.js":37855,"./tzm.js":16362,"./ug-cn":77606,"./ug-cn.js":77606,"./uk":30513,"./uk.js":30513,"./ur":43803,"./ur.js":43803,"./uz":60344,"./uz-latn":8957,"./uz-latn.js":8957,"./uz.js":60344,"./vi":70003,"./vi.js":70003,"./x-pseudo":8842,"./x-pseudo.js":8842,"./yo":62083,"./yo.js":62083,"./zh-cn":84536,"./zh-cn.js":84536,"./zh-hk":92475,"./zh-hk.js":92475,"./zh-mo":67593,"./zh-mo.js":67593,"./zh-tw":4746,"./zh-tw.js":4746};function i(t){var e=a(t);return s(e)}function a(t){if(!s.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}i.keys=function(){return Object.keys(o)},i.resolve=a,t.exports=i,i.id=46700}}]);